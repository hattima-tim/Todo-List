(()=>{"use strict";var e={d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Rq:()=>S,q:()=>g,Ac:()=>j});let t,a,r=document.querySelector("#total_task_completed"),n=document.querySelector("#task_container"),o=document.querySelector("#details_modal"),d=document.querySelector("#datails_modal_content"),l=document.querySelector("#submit_button_of_form_for_editing_task"),i=(e,t)=>{let a=document.createElement("table"),i=document.createElement("tr"),c=document.createElement("td"),s=document.createElement("input"),m=document.createElement("td"),u=document.createElement("td"),_=document.createElement("button"),g=document.createElement("td"),S=document.createElement("td"),k=document.createElement("i"),h=document.createElement("td"),x=document.createElement("i");i.classList.add("task_list"),s.setAttribute("type","checkbox"),s.setAttribute("id","done"),s.setAttribute("name","done"),s.setAttribute("value","done"),s.setAttribute("data-index",`${t}`),s.addEventListener("change",(t=>{let a=JSON.parse(localStorage.getItem("totalCompletedTask"));a+=1,localStorage.setItem("totalCompletedTask",JSON.stringify(a)),r.textContent=`Completed (${a})`,p(t,e)})),m.textContent=e[t].taskTitle,_.textContent="Details",_.setAttribute("data-index",`${t}`),_.addEventListener("click",(t=>{((e,t)=>{let a=y(t[e.target.dataset.index].taskImportance),r=document.createElement("p"),n=document.createElement("p"),l=document.createElement("p");r.textContent=`Task Name:${t[e.target.dataset.index].taskTitle}`,n.textContent=`Description:${t[e.target.dataset.index].taskDescription}`,l.textContent=`Importance:${a}`,d.appendChild(r),d.appendChild(n),d.appendChild(l),o.style.display="block"})(t,e)})),g.textContent=e[t].taskDueDate,x.setAttribute("class","far fa-edit"),x.setAttribute("data-index",`${t}`),x.addEventListener("click",(t=>{f(t,e),l.setAttribute("data-index",`${t.target.dataset.index}`)})),k.setAttribute("class","far fa-trash-alt"),k.setAttribute("data-index",`${t}`),k.addEventListener("click",(t=>{p(t,e)})),c.appendChild(s),i.appendChild(c),i.appendChild(m),u.appendChild(_),i.appendChild(u),i.appendChild(g),h.appendChild(x),i.appendChild(h),S.appendChild(k),i.appendChild(S),a.appendChild(i),n.appendChild(a)},c=document.querySelector(".sidenav"),s=(e,t,a,r)=>{let n=document.createElement("div");n.classList.add("side_nav_project_name_holder");let o=document.createElement("a");o.textContent=`${a}`,o.classList.add("project_name"),o.setAttribute("data-index",`${r}`),o.addEventListener("click",(t=>{let r=t.target.dataset.index;e(r,a)}));let d=document.createElement("span");d.textContent="x",d.addEventListener("click",(e=>{_(e),e.target.parentNode.remove()})),n.appendChild(o),n.appendChild(d),c.insertBefore(n,t),e(r,a)},m=(e,t,a,r)=>({taskImportance:e,taskTitle:t,taskDescription:a,taskDueDate:r}),u=e=>{let t=(e=>e.sort((function(e,t){return e.taskImportance-t.taskImportance})))(e);for(;n.firstChild;)n.firstChild.remove();for(let e=0;e<t.length;e++)i(t,e)},p=(e,t)=>{let a=e.target.dataset.index;t.splice(a,1),localStorage.setItem("projectArray",JSON.stringify(g)),(e=>{let t=document.querySelectorAll(".task_list");for(let a=e;a<t.length-1;a++){let e=Number(a)+1,r=0,n=2,o=4,d=5,l=t[e].childNodes[r].firstChild,i=t[e].childNodes[n].firstChild,c=t[e].childNodes[o].firstChild,s=t[e].childNodes[d].firstChild;l.setAttribute("data-index",`${a}`),i.setAttribute("data-index",`${a}`),c.setAttribute("data-index",`${a}`),s.setAttribute("data-index",`${a}`)}})(a),e.target.parentNode.parentNode.parentNode.remove()},_=e=>{let t=e.target.previousElementSibling.dataset.index;g.splice(t,1),S.splice(t,1),localStorage.setItem("projectArray",JSON.stringify(g)),localStorage.setItem("projectNameArray",JSON.stringify(S)),(e=>{let t=document.querySelectorAll(".project_name");for(let a=e;a<t.length-1;a++)t[Number(a)+1].setAttribute("data-index",`${a}`)})(t),j(0,"Home")},y=e=>{let t;switch(e){case"1":t="High";break;case"2":t="medium";break;case"3":t="Low"}return t},f=(e,t)=>{let a=document.querySelector("#container_of_form_for_editing_task"),r=document.querySelector("#form_for_editing_task"),n=document.querySelector("#task_importance_dropdown_of_form_for_task_editing");a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",r[0].value=t[e.target.dataset.index].taskTitle,r[1].value=t[e.target.dataset.index].taskDescription,n.value=t[e.target.dataset.index].taskImportance,r[3].value=t[e.target.dataset.index].taskDueDate},g=JSON.parse(localStorage.getItem("projectArray"))||[[]],S=JSON.parse(localStorage.getItem("projectNameArray"))||["home"],k=document.querySelector("#project_header"),h=document.querySelector("#total_task_completed"),x=JSON.parse(localStorage.getItem("totalCompletedTask"))||0;localStorage.setItem("totalCompletedTask",JSON.stringify(x)),h.textContent=`Completed (${x})`,t=g[0],u(t);let C=document.querySelector("#form_container");document.querySelector("#add_task_button").addEventListener("click",(()=>{C.style.display="flex",C.style.justifyContent="center",C.style.alignItems="center"}));let b=document.querySelector("#form_submit_button"),v=document.querySelector("#importance");b.setAttribute("data-index","0"),b.addEventListener("click",(e=>{C.style.display="none";let a=`${form[0].value}`,r=`${form[1].value}`,n=`${v.value}`,o=`${form[3].value}`,d=m(n,a,r,o);t=g[e.target.dataset.index],t.push(d),localStorage.setItem("projectArray",JSON.stringify(g)),u(t),form.reset()})),document.querySelector("#form_close_button").addEventListener("click",(()=>{C.style.display="none"}));let E=document.querySelector("#details_modal"),A=document.querySelector("#datails_modal_content");document.querySelector("#details_modal_close_button").addEventListener("click",(()=>{for(let e=0;e<3;e++)A.lastChild.remove();E.style.display="none"}));let q=document.querySelector("#container_of_form_for_editing_task"),N=document.querySelector("#form_for_editing_task"),$=document.querySelector("#task_importance_dropdown_of_form_for_task_editing");document.querySelector("#submit_button_of_form_for_editing_task").addEventListener("click",(e=>{q.style.display="none";let a=N[0].value,r=N[1].value,n=$.value,o=N[3].value,d=m(n,a,r,o),l=e.target.dataset.index;t.splice(l,1,d),localStorage.setItem("projectArray",JSON.stringify(g)),u(t)})),document.querySelector("#close_button_of_form_for_editing_task").addEventListener("click",(()=>{q.style.display="none"}));let I=document.querySelector("#add_project");I.addEventListener("click",(()=>{g.push([]),a=prompt("Enter a Name"),S.push(a),localStorage.setItem("projectArray",JSON.stringify(g)),localStorage.setItem("projectNameArray",JSON.stringify(S));let e=g.length-1;s(j,I,a,e)}));let j=(e,a)=>{t=g[e],u(t),b.setAttribute("data-index",`${e}`),k.textContent=`${a}`},L=document.querySelector("#home");L.setAttribute("data-index","0"),L.addEventListener("click",(e=>{j(e.target.dataset.index,"Home")})),(()=>{for(let e=1;e<g.length;e++){let t=S[e],a=e,r=document.querySelector("#add_project");s(j,r,t,a)}})(),j(0,"Home")})();