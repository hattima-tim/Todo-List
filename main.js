(()=>{"use strict";let e,t=[[]],n=document.querySelector("#default_project");n.setAttribute("data-index","0"),n.addEventListener("click",(e=>{r(e.target.dataset.index)}));let d=document.querySelector("#table"),a=(e,t)=>{let n=document.createElement("tr"),a=document.createElement("td"),l=document.createElement("input");l.setAttribute("type","checkbox"),l.setAttribute("id","done"),l.setAttribute("name","done"),l.setAttribute("value","done"),a.appendChild(l),n.appendChild(a);let r=document.createElement("td");r.textContent=e[t].title,n.appendChild(r);let i=document.createElement("td"),c=document.createElement("button");c.addEventListener("click",(()=>{alert(e[t].details)})),c.textContent="Details",i.appendChild(c),n.appendChild(i);let o=document.createElement("td");o.textContent=e[t].dueDate,n.appendChild(o),d.appendChild(n)},l=document.querySelector("#submit");l.setAttribute("data-index","0"),l.addEventListener("click",(n=>{let l=document.querySelector("#importance"),r=`${form[0].value}`,i=`${form[1].value}`,c=`${l.value}`,o=`${form[3].value}`;e=t[n.target.dataset.index],e.push(((e,t,n,d)=>({importance:e,title:t,details:n,dueDate:d}))(c,r,i,o));let u=(e=>e.sort((function(e,t){return e.importance-t.importance})))(e);for(;d.firstChild;)d.firstChild.remove();for(let e=0;e<u.length;e++)a(u,e)}));let r=n=>{for(;d.firstChild;)d.firstChild.remove();e=t[n];for(let t=0;t<e.length;t++)a(e,t);l.setAttribute("data-index",`${n}`)},i=document.querySelector(".sidenav");document.querySelector("#add_project").addEventListener("click",(()=>{t.push([]);let e=prompt("Enter a name"),n=document.createElement("a");n.textContent=`${e}`,n.classList.add("project_name"),n.setAttribute("data-index",""+(t.length-1)),n.addEventListener("click",(e=>{let t=e.target.dataset.index;r(t)}));let d=document.createElement("div");d.classList.add("side_nav_project_name_holder");let a=document.createElement("span");a.textContent="x",a.setAttribute("data-index",""+(t.length-1)),a.addEventListener("click",(e=>{let n=e.target.previousElementSibling.dataset.index;t.splice(n,1),(e=>{let t=document.querySelectorAll(".project_name");for(let n=e;n<t.length-1;n++)t[Number(n)+1].setAttribute("data-index",`${n}`)})(n),r(0),e.target.parentNode.remove()})),d.appendChild(n),d.appendChild(a),i.appendChild(d),r(t.length-1)}))})();