(()=>{"use strict";let e,t=0,n=document.querySelector("#total_task_completed"),d=document.querySelector("#task_container"),a=document.querySelector("#details_modal"),l=document.querySelector("#datails_modal_content"),r=(e,r)=>{let o=document.createElement("table"),i=document.createElement("tr"),c=document.createElement("td"),s=document.createElement("input"),u=document.createElement("td"),m=document.createElement("td"),p=document.createElement("button"),h=document.createElement("td");i.classList.add("task_list"),s.setAttribute("type","checkbox"),s.setAttribute("id","done"),s.setAttribute("name","done"),s.setAttribute("value","done"),s.setAttribute("data-index",`${r}`),s.addEventListener("change",(d=>{t+=1,n.textContent=`Completed (${t})`,((e,t)=>{let n=e.target.dataset.index;t.splice(n,1),(e=>{let t=document.querySelectorAll(".task_list");for(let n=e;n<t.length-1;n++){let e=Number(n)+1,d=0,a=2,l=t[e].childNodes[d].firstChild,r=t[e].childNodes[a].firstChild;l.setAttribute("data-index",`${n}`),r.setAttribute("data-index",`${n}`)}})(n),e.target.parentNode.parentNode.parentNode.remove()})(d,e)})),u.textContent=e[r].taskTitle,p.textContent="Details",p.setAttribute("data-index",`${r}`),p.addEventListener("click",(t=>{((e,t)=>{let n=(e=>{let t;switch(e){case"1":t="High";break;case"2":t="medium";break;case"3":t="Low"}return t})(t[e.target.dataset.index].taskImportance),d=document.createElement("p"),r=document.createElement("p"),o=document.createElement("p");d.textContent=`Task Name:${t[e.target.dataset.index].taskTitle}`,r.textContent=`Description:${t[e.target.dataset.index].taskDescription}`,o.textContent=`Importance:${n}`,l.appendChild(d),l.appendChild(r),l.appendChild(o),a.style.display="block"})(t,e)})),h.textContent=e[r].taskDueDate,c.appendChild(s),i.appendChild(c),i.appendChild(u),m.appendChild(p),i.appendChild(m),i.appendChild(h),o.appendChild(i),d.appendChild(o)},o=document.querySelector(".sidenav"),i=[[]],c=document.querySelector("#project_header"),s=document.querySelector("#form_container");document.querySelector("#add_task_button").addEventListener("click",(()=>{s.style.display="flex",s.style.justifyContent="center",s.style.alignItems="center"}));let u=document.querySelector("#form_submit_button");u.setAttribute("data-index","0"),u.addEventListener("click",(t=>{s.style.display="none";let n=document.querySelector("#importance"),a=`${form[0].value}`,l=`${form[1].value}`,o=((e,t,n,d)=>({taskImportance:e,taskTitle:t,taskDescription:n,taskDueDate:`${form[3].value}`}))(`${n.value}`,a,l);e=i[t.target.dataset.index],e.push(o);let c=(e=>e.sort((function(e,t){return e.importance-t.importance})))(e);for(;d.firstChild;)d.firstChild.remove();for(let e=0;e<c.length;e++)r(c,e)})),document.querySelector("#form_close_button").addEventListener("click",(()=>{s.style.display="none"}));let m=document.querySelector("#details_modal"),p=document.querySelector("#datails_modal_content");document.querySelector("#details_modal_close_button").addEventListener("click",(()=>{for(let e=0;e<3;e++)p.lastChild.remove();m.style.display="none"}));let h=document.querySelector("#add_project");h.addEventListener("click",(()=>{((e,t,n)=>{e.push([]);let d=document.createElement("div");d.classList.add("side_nav_project_name_holder");let a=prompt("Enter a name"),l=document.createElement("a");l.textContent=`${a}`,l.classList.add("project_name"),l.setAttribute("data-index",""+(e.length-1)),l.addEventListener("click",(e=>{let n=e.target.dataset.index;t(n,a)}));let r=document.createElement("span");r.textContent="x",r.addEventListener("click",(n=>{let d=n.target.previousElementSibling.dataset.index;e.splice(d,1),(e=>{let t=document.querySelectorAll(".project_name");for(let n=e;n<t.length-1;n++)t[Number(n)+1].setAttribute("data-index",`${n}`)})(d),t(0,"Home"),n.target.parentNode.remove()})),d.appendChild(l),d.appendChild(r),o.insertBefore(d,n),t(e.length-1,a)})(i,C,h)}));let C=(t,n)=>{for(e=i[t];d.firstChild;)d.firstChild.remove();for(let t=0;t<e.length;t++)r(e,t);u.setAttribute("data-index",`${t}`),c.textContent=`${n}`},y=document.querySelector("#home");y.setAttribute("data-index","0"),y.addEventListener("click",(e=>{C(e.target.dataset.index),c.textContent="Home"}))})();